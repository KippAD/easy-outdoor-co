{% extends "base.html" %}
{% load static %}

{% block extra_css %}
<link rel="stylesheet" href="{% static 'css/manage_site.css' %}">
{% endblock %}

{% block content %}

<section class="admin-section">
    <div class="container">
        <div class="row">
            <div class="mx-auto col-12 col-md-6 admin-form rounded mt-3">
                <h2>Contact Us</h2>
                <form method="POST" id="contactForm" action="{% url 'contact-form' %}">
                    {% csrf_token %}
                    <div class="d-flex flex-column justify-content-center">
                        <input class="form-control mb-1" id="subject" name="subject" type="text" placeholder="Subject" required>
                        <input class="form-control mt-3 mb-1" id="email" name="email" type="email" placeholder="Email Address" required>
                        <textarea class="form-control mt-3 mb-1" if="message" name="message" placeholder="Enter your query here" id=""
                            cols="30" rows="10" required></textarea>
                        <input class="shop-btn px-3 py-1 mt-3" type="submit" value="Send Message">
                    </div>
                </form>
            </div>
        </div>
    </div>

</section>
{% endblock %}

{% block postloadjs %}
{{ block.super }}
<script type="text/javascript">
    $(document).ready(function () {
        $('label').hide()

        $('#contactForm').validate({
            rules: {
                subject: {
                    required: true,
                    minlength: 5,
                },
                email: {
                    required: true,
                },
                message: {
                    required: true,
                    minlength: 25,
                },
            },
            messages: {
                subject: {
                    required: "Please enter a subject for your query",
                    minlength: "The subject must be longer than 5 characters."
                },
                email: {
                    required: "Please enter your email address",
                    email: "Must be an email: example@email.com"
                },
                message: {
                    require: "Please enter a message",
                    minlength: `You message must be longer than 25
                    characters - please be descriptive`
                },

            },
        });
    });
</script>
{% endblock %}